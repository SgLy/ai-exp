<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">

  <link type="text/css" rel="stylesheet" href="css/materialize.min.css"  media="screen,projection"/>
  <!--Let browser know website is optimized for mobile-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
</head>

<body>
  <script type="text/javascript" src="js/jquery-3.2.1.min.js"></script>
  <script type="text/javascript" src="js/jquery.validate.min.js"></script>
  <script type="text/javascript" src="js/Chart.min.js"></script>
  <script type="text/javascript" src="js/materialize.min.js"></script>
  <script type="text/javascript" src="js/train.js"></script>

  <nav>
    <div class="nav-wrapper light-blue darken-1">
      <ul id="nav-mobile" class="left" style="margin-left: 3%">
        <li><a href="index.html">Test</a></li>
        <li class="active"><a href="train.html">Train</a></li>
      </ul>
    </div>
  </nav>

  <div class="row">
    <div class="col s12 m12 l12">
      <div class="card hoverable" style="margin-top: 20px">
        <div id="create_new">
          <div class="card-content">
            <h5> Create a new model</h5>
            <form>
              <div class="row">
                <div class="input-field col s12 m6 l4">
                  <input type="text" id="model_n" class="validate" name="model_name">
                  <label for="model_n">Model Name</label>
                </div>
                <div class="input-field col s12 m6 l4">
                  <input type="number" min="0.0001" step="0.0001" id="num_lr" class="validate" name="lr" value="0.1">
                  <label for="num_lr" data-error="Must be positive.">Learning Rate</label>
                </div>
                <div class="input-field col s12 m6 l4">
                  <input type="number" min="1" step="1" id="num_epoch" class="validate" name="epoch" value="10">
                  <label for="num_epoch" data-error="Must be positive integer.">Epoch Number</label>
                </div>
                <div class="input-field col s12 m6 l4">
                  <input type="number" min="1" step="1" id="num_batch" class="validate" name="batch" value="50">
                  <label for="num_batch" data-error="Must be positive integer.">Batch Size</label>
                </div>
                <div id="hidden_layers">
                  <div class="input-field col s12 m6 l4">
                    <input class="hidden_layer_input" type="number" min="1" step="1" id="hidden_layer_1" class="validate" name="hidden_1" value="30">
                    <label for="hidden_layer_1" data-error="Must be positive integer.">Units of Hidden Layer 1</label>
                  </div>
                </div>
                <input id="hidden_num" type="number" name="hidden_num" value="1" style="display: none">
                <a id="add_hidden" class="waves-effect waves-light btn">Add More Hidden Layer</a>
              </div>
            </form>
          </div>

          <div class="card-action">
            <a href="#" id="submit_train">Submit</a>
          </div>
        </div>


        <div id="training_control" style="display: none">
          <div class="card-content">
            <h5>A new model is being training...</h5>
            <div class="progress" style="margin-top: 30px">
              <div class="indeterminate"></div>
            </div>
          </div>

          <div class="card-action">
            <a href="#" id="stop_train">Stop</a>
          </div>
        </div>

        <div id="finished_figure" style="display: none">
          <div class="card-content">
            <h5>Your model training has beed finished</h5>
            <h4>The accuracy of MNIST testing set is:</h4>
            <h4 id="accuracy"></h4>
          </div>

          <div class="card-action">
            <a href="#" id="to_new_train">Reset</a>
          </div>
        </div>

      </div>
      
    </div>

    <div id="train_figures" style="display: none">
      <div class="fig_train col s12 m6 l6" >
        <div class="card hoverable">
          <div class="card-content">
            <canvas id="loss_chart" width="400" height="400"></canvas>
          </div>
        </div>
      </div>

      <div class="fig_train col s12 m6 l6" >
        <div class="card hoverable">
          <div class="card-content">
            <canvas id="acc_chart" width="400" height="400"></canvas>
          </div>
        </div>
      </div>

    </div>
    
    <div class="col s12 m6 l6" id="mid_reference"></div>

    
  </div>
</body>
